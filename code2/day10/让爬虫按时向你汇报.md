## 让爬虫按时向你汇报.md

### 1.复习
### 2.定时与邮件
### 3.明确目标
我们选择的项目是——自动爬取每日的天气，并定时把天气数据和穿衣提示发送到你的邮箱。
### 4.分析过程
总体上来说，可以把这个程序分成三个功能块：【爬虫】+【邮件】+【定时】  
对爬虫部分，我们比较熟悉；而对通知部分，选择的是用邮件来通知，我们将使用smtplib、email库来实现这一需求；对定时功能，有一个schedule，方便好用。
1. 爬虫
    http://www.weather.com.cn/weather/101280601.shtml
    
    [邮箱完整代码](./邮箱完整代码.py)
2. 定时  
    - 新库 `schedule`
    - 安装 `pip install schedule`
    - git仓库 https://github.com/dbader/schedule
    - 官网 https://schedule.readthedocs.io/en/stable/
    
     [用例](./demo04.py)  
     [测试用例](./demo04.py)
    
### 5.代码组装
[完整案例](./demo08.py)
### 6.复习
- 邮件 我们要用到`smtplib`和`email`库，前者负责连接服务器、登录、发送和退出的流程。后者负责邮件的标题与正文。
- 对于定时，我们选取了`schedule`模块，它的用法非常简洁，官方文档里是这样讲述：
- 注意2点: 首先，让该程序在本地电脑运行，而不是在课程系统里运行，因为课程的系统是会销毁程序的进程的。  
  其次，保持程序一直运行的状态，和电脑在一直开机的状态。因为如果程序结束或者电脑关机了的话，就不会定时爬取天气信息了。 

